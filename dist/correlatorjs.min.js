!function(){"use strict";var n="undefined"==typeof global?self:global;if("function"!=typeof n.require){var t={},e={},r={},i={}.hasOwnProperty,u=/^\.\.?(\/|$)/,a=function(n,t){for(var e,r=[],i=(u.test(t)?n+"/"+t:t).split("/"),a=0,o=i.length;o>a;a++)e=i[a],".."===e?r.pop():"."!==e&&""!==e&&r.push(e);return r.join("/")},o=function(n){return n.split("/").slice(0,-1).join("/")},c=function(t){return function(e){var r=a(o(t),e);return n.require(r,t)}},f=function(n,t){var r=d&&d.createHot(n),i={id:n,exports:{},hot:r};return e[n]=i,t(i.exports,c(n),i),i.exports},l=function(n){return r[n]?l(r[n]):n},s=function(n,t){return l(a(o(n),t))},v=function(n,r){null==r&&(r="/");var u=l(n);if(i.call(e,u))return e[u].exports;if(i.call(t,u))return f(u,t[u]);throw new Error("Cannot find module '"+n+"' from '"+r+"'")};v.alias=function(n,t){r[t]=n};var h=/\.[^.\/]+$/,y=/\/index(\.[^\/]+)?$/,p=function(n){if(h.test(n)){var t=n.replace(h,"");i.call(r,t)&&r[t].replace(h,"")!==t+"/index"||(r[t]=n)}if(y.test(n)){var e=n.replace(y,"");i.call(r,e)||(r[e]=n)}};v.register=v.define=function(n,r){if(n&&"object"==typeof n)for(var u in n)i.call(n,u)&&v.register(u,n[u]);else t[n]=r,delete e[n],p(n)},v.list=function(){var n=[];for(var e in t)i.call(t,e)&&n.push(e);return n};var d=n._hmr&&new n._hmr(s,v,t,e);v._cache=e,v.hmr=d&&d.wrap,v.brunch=!0,n.require=v}}(),function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var t="undefined"==typeof r?this:r,e=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();!function(t){function r(){return c.getRandomValues(new Uint32Array(1))[0]}function i(n){return 4294967296*Math.random()>>>((n||3&(new Date).getTicks())<<3)&255}function u(n,t){var e=l(),r=100/4294967295*e/100;return Math.floor(r*(t-n+1))+n}function a(n,t,e){return u(n+t,n+e)}function o(){var n=0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=l(n++)%16|0,r="x"==t?e:3&e|8;return r.toString(16)})}var c=t.crypto||t.msCrypto,f=/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-4[a-fA-F0-9]{3}-[89aAbB][a-fA-F0-9]{3}-[a-fA-F0-9]{12}|[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{12}/;t.isUuid=function(n){return n.match(f)};var l=c&&c.getRandomValues&&Uint8Array?r:i;t.randomNumberGenerator=l,t.randomNumberGeneratorInRange=u,t.randomNumberGeneratorInSequence=a;var s=function(){function t(e){if(n(this,t),e&&!isUuid(e.toString()))throw new Error("seed value for uuid must be valid uuid.");this.innervalue=(e||o()).toString(),this.innertime=new Date}return e(t,null,[{key:"EMPTY",get:function(){return new t("00000000-0000-0000-0000-000000000000")}}]),e(t,[{key:"toString",value:function(){return this.value}},{key:"value",get:function(){return this.innervalue}},{key:"time",get:function(){return this.innertime}}]),t}();t.Uuid=s,t.UuidCrypto=(t.module||{}).exports={Uuid:s,randomNumberGenerator:l,isUuid:isUuid}}(r||t);var r,t,e=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}();!function(t){function r(n){return n.length<1?null:n[n.length-1]}function i(n,t){return new l(n,f.current,new u(t))}var u=t.UuidCrypto.Uuid,a=a||{},o={CORRELATION_ID_HEADER:"X-Correlation-Id",CORRELATION_ID_STARTED_HEADER:"X-Correlation-Started",CORRELATION_ID_NAME_HEADER:"X-Correlation-Name",CORRELATION_ID_PARENT_HEADER:"X-Correlation-Parent"};a.Statics=o;var c=function(){function t(){n(this,t),this.activityStack=[]}return e(t,[{key:"start",value:function(n){null!==n&&this.activityStack.push(n)}},{key:"end",value:function(n){for(;this.activityStack.pop()!=n;);}},{key:"find",value:function(n){return this.activityStack.filter(function(t){return t.id===n}).pop()}},{key:"clear",value:function(){this.activityStack=[]}},{key:"current",get:function(){return r(this.activityStack)}}]),t}(),f=new c,l=function(){function t(e,r,i){if(n(this,t),r&&!(r instanceof t))throw new Error("parent must be an activity scope.");if(i&&!(i instanceof u))throw new Error("seed must be a valid UUID.");this.innerid=i||new u,this.innername=e,this.innerparent=r||null,f.start(this)}return e(t,[{key:"id",get:function(){return this.innerid}},{key:"parent",get:function(){return this.innerparent}},{key:"name",get:function(){return this.innername}}],[{key:"create",value:function(n,t){return f.clear(),i(n,t)}},{key:"child",value:function(n,t){return i(n,t)}},{key:"new",value:function(n,t){return f.end(this.current),i(n,t)}},{key:"clear",value:function(){f.clear()}},{key:"current",get:function(){return f.current},set:function(n){if(n&&!(n instanceof t))throw new Error("Can't set value of activity scope to be anything but activity scope type.");f.start(n)}}]),t}();a.ActivityScope=l,t.CorrelatorJs=(t.module||{}).exports=a}(r||t);var r,t;require.register("___globals___",function(n,t,e){})}(),require("___globals___");